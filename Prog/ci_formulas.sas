rsubmit;
*See K:\Metro\TKingsle\DataPlex\nnis\programs\ci_createCensIndic.sas program*;

%let immgfld =
	 PCT019004 PCT019005 PCT019006 PCT019007 PCT019009 PCT019010 PCT019011 PCT019012 PCT019013
	 PCT019015 PCT019016 PCT019017 PCT019018 PCT019019 PCT019021 PCT019022 PCT019023 PCT019024
	 PCT019025 PCT019026 PCT019027 PCT019028 PCT019029 PCT019030 PCT019031 PCT019035 PCT019036
	 PCT019037 PCT019038 PCT019039 PCT019040 PCT019042 PCT019043 PCT019044 PCT019045 PCT019046
	 PCT019047 PCT019049 PCT019050 PCT019051 PCT019052 PCT019053 PCT019054 PCT019055 PCT019056
	 PCT019058 PCT019059 PCT019060 PCT019061 PCT019062 PCT019063 PCT019064 PCT019065 PCT019066
	 PCT019069 PCT019070 PCT019071 PCT019073 PCT019074 PCT019076 PCT019077 PCT019079 PCT019080
	 PCT019081 PCT019082 PCT019083 PCT019086 PCT019087 PCT019088 PCT019089 PCT019090 PCT019091
	 PCT019095 PCT019096 PCT019097 PCT019098 PCT019099 PCT019100 PCT019101 PCT019103 PCT019105
	 PCT019106 PCT019107 PCT019108 PCT019109 PCT019110 PCT019111 PCT019113 PCT019114 PCT019115
	 PCT019116 PCT019117 PCT019118 PCT019119 PCT019120 PCT019121 PCT019122 PCT019124 PCT019125
	 PCT019126 ;

%macro immcalc;

		length IMMGSRC $50. IMMGPOP 8.;

		label immgsrc = "Country supplying the largest number of immigrants "
			  immgpop = "Foreign born population from country supplying the largest number of immigrants ";

		immgpop = 0;
		immgsrc = "";

	%let i = 1;
	%do %until ( %scan(&immgfld.,&i.,%str( ))=%str( ) );
		%let key&i. = %scan(&immgfld.,&i.,%str( ));

		if &&key&i.. > immgpop then
		 do;
			immgpop = &&key&i..;
			immgsrc = "&&&l&&key&i...";
		 end;

		%let i = %eval(&i. + 1);
	%end;
%mend immcalc;



%macro formulas;

AggFamilyIncome					 = FAVINC0N;
AggHshldIncome					 = AVHHIN0N;
AggNonFamilyIncome				 = NFAVIN0N;
AvgFamilyIncome					 = FAVINC0;
AvgGrossRentSpecRenterHshlds	 = AGGRENT0/ RENTRTO0;
AvgHshldIncome					 = AVHHIN0;
AvgHshldSize					 = PRSOCU0/ NUMHHS0;
AvgNonFamilyIncome				 = NFAVIN0N/ NONFAM0;
AvgValueSpecOwnerHshlds			 = AGGVAL0/ SPOWNOC0;
ChildPovertyRate				 = 100* CHDPOO0;
ChildrenPovertyDefined			 = CHDPOO0D;
ElderlyPovertyDefined			 = ELDPOO0D;
ElderlyPovertyRate				 = 100* ELDPOO0;
Females16to34					 = MGMKT0D;
GrossRentSpecRenterHshlds		 = AGGRENT0;
HomeownershipRate			 	 = 100* OWNOCC0/ OCCHU0;
HomeownershipRateAsianPI		 = 100* OWNOCCA0/ TOTOCCA0;
HomeownershipRateBlack			 = 100* OWNOCCB0/ TOTOCCB0;
HomeownershipRateHispanic		 = 100* OWNOCCH0/ TOTOCCH0;
HomeownershipRateNativeAm		 = 100* OWNOCCI0/ TOTOCCI0;
HomeownershipRateNonHispWhite	 = 100* OWNOCCX0/ TOTOCCX0;
HomeownershipRateWhite	 = 100* OWNOCCW0/ TOTOCCW0;
HomeownerVacancyRate			 = 100* VACFS0/ sum(OWNOCC0, VACFS0);
LaborForceParticipationRate		 = 100* LFRAT0;
LandAreaSqMile					 = AREALANM;
Males16to34						 = MGMKT0N;
MaletoFemale16to34				 = MGMKT0N/ MGMKT0D;
MeanTravelTimeToWork			 = AGGTRVL0/ TRVLPB0D;
MedianAge						 = MDAGE0;
MedianFamilyIncome				 = MDFAMY0;
MedianGrossRent					 = MDGRENT0;
MedianHshldIncome				 = MDHHY0;
MedianValueSpecOwnerHshlds		 = MDVALHS0;
MedianYearStructureBuilt		 = MDYRBLT0;
NumFamilies						 = FAVINC0D;
NumHHMovedIn20YearsOrMore		 = sum(YMVT0790, YMVT0690);
NumHHMovedInLast5Years			 = sum(YMVT0980, YMVT0000);
NumHsgUnits						 = TOTHSUN0;
NumHsgUnits0Bdrms				 = BDTOT00;
NumHsgUnits10to19UnitStructures	 = TUNIT190;
NumHsgUnits1Bdrm				 = BDTOT10;
NumHsgUnits20plusUnitStructures	 = sum(TTUNT490, TTUNT500);
NumHsgUnits2Bdrms				 = BDTOT20;
NumHsgUnits2to4UnitStructures	 = sum(TTUNIT30, TTUNIT40);
NumHsgUnits3Bdrms				 = BDTOT30;
NumHsgUnits3plusBdrms			 = sum(BDTOT30, BDTOT40, BDTOT50);
NumHsgUnits4Bdrms				 = BDTOT40;
NumHsgUnits5plusBdrms			 = BDTOT50;
NumHsgUnits5To9UnitStructures	 = TTUNIT90;
NumHsgUnitsBuilt11to20YearsAgo	 = BLTYR890;
NumHsgUnitsBuilt21to30YearsAgo	 = BLTYR790;
NumHsgUnitsBuilt6to10YearsAgo	 = BLTYR940;
NumHsgUnitsBuiltLast5Years		 = sum(BLTYR000, BLTYR980);
NumHsgUnitsBuiltOver30YearsAgo	 = sum(BLTYR690, BLTYR590, BLTYR490, BLTYR390);
NumHsgUnitsBuilt31to40YearsAgo	 = BLTYR690;
NumHsgUnitsBuilt41to50YearsAgo	 = BLTYR590;
NumHsgUnitsBuiltOver50YearsAgo	 = sum(BLTYR490, BLTYR390);
NumHsgUnitsOtherStructure		 = sum(TTUNITM0, TTUNITO0);
NumHsgUnitsSingleFamilyAttached	 = TTUNIT20;
NumHsgUnitsSingleFamilyDetached	 = TTUNIT10;
NumHsgUnitsW2OrMoreHsgProblems	 = HU2PFC0;
NumHshldMarriedCoupleWKids		 = MCWKID0;
NumHshldNonFamily				 = NONFAM0;
NumHshldOtherFamily				 = sum(MCNKID0, MHNKID0, FHNKID0);
NumHshlds						 = NUMHHS0;
NumHshldSingleParentWKids		 = sum(MHWKID0, FHWKID0);
NumHshldsOnPublicAssistance		 = sum(AVPBLA0D, -AVSSI0D);

NumHshldsOver30PctIncSpentOnHsg	 = sum(M39PI0, M49PI0, M50PI0, R39PI0, R49PI0, R50PI0);
NumHshldsOver50PctIncSpentOnHsg	 = sum(M50PI0,R50PI0);
NumHshldsforPctIncSpentOnHsg	 = sum(M20PI0, M29PI0,M39PI0, M49PI0, M50PI0, R20PI0, R29PI0, R39PI0, R49PI0, R50PI0);

NumHshldsOvercrowded			 = sum(OWNCR100, OWNCR150, OWNCR200, RNTCR100, RNTCR150, RNTCR200);
NumHshldsSeverelyOvercrowded	 = sum(OWNCR150,OWNCR200, RNTCR150,  RNTCR200);
NumHshldsWFinancialInc			 = AVFINY0D;
NumHshldsWInc100000plus			 = sum(THY01250, THY01500, THY02000, THY0M200);
NumHshldsWInc15000to34999		 = sum(THY0200, THY0250, THY0300, THY0350);
NumHshldsWInc35000to49999		 = sum(THY0400, THY0450, THY0500);
NumHshldsWInc50000to74999		 = sum(THY0600, THY0750);
NumHshldsWInc75000to99999		 = THY01000;
/*replacing in 6-06 with occupied only: NumHshldsWIncompleteKitchen= KITNO0;*/
NumHshldsWIncompletePlumbing	 = sum(OCCHU0, -PLMBT0);
NumHshldsWIncUnder15000			 = sum(THY0100, THY0150);
NumHshldsWoutCar				 = NOCAR0;
NumOccupiedHsgUnits				 = OCCHU0;
NumOccupiedHsgUnitsAsianPI		 = TOTOCCA0;
NumOccupiedHsgUnitsBlack		 = TOTOCCB0;
NumOccupiedHsgUnitsHisp			 = TOTOCCH0;
NumOccupiedHsgUnitsNativeAm		 = TOTOCCI0;
NumOccupiedHsgUnitsNonHispWhite	 = TOTOCCX0;
NumOccupiedHsgUnitsWhite	 = TOTOCCW0;
NumOwnerHsgUnits				 = sum(OWNOCC0, VACFS0);
NumOwnerHshldsOver30PctIncOnHsg	 = sum(M39PI0, M49PI0, M50PI0);
NumOwnerHshldsOver50PctIncOnHsg	 = M50PI0;
NumOwnerHshldsforPctIncOnHsg	 = sum(M20PI0, M29PI0, M39PI0, M49PI0, M50PI0);
NumOwnerOccupiedHsgUnits		 = OWNOCC0;
NumOwnerOccupiedHsgUnitsAsianPI	 = OWNOCCA0;
NumOwnerOccupiedHsgUnitsBlack	 = OWNOCCB0;
NumOwnerOccupiedHsgUnitsHisp	 = OWNOCCH0;
NumOwnerOccupiedHsgUnitsNativeAm = OWNOCCI0;
NumOwnerOccupiedHsgUnitsNHWhite	 = OWNOCCX0;
NumOwnerOccupiedHsgUnitsWhite	 = OWNOCCW0;
NumRenterHsgUnits				 = sum(RNTOCC0, VACRT0);
NumRenterHshldsNoCashRent		 = GRNTNCR0;
NumRenterHshldsOver30PctIncOnHsg = sum(R39PI0, R49PI0, R50PI0);
NumRenterHshldsOver50PctIncOnHsg = R50PI0;
NumRenterHshldsforPctIncOnHsg = sum(R20PI0, R29PI0,R39PI0, R49PI0, R50PI0);
NumRenterHshldsRent1000plus		 = sum(GR012490, GR014990, GR019990, GR020000);
NumRenterHshldsRent300to399		 = sum(GR03490, GR03990);
NumRenterHshldsRent400to499		 = sum(GR04490, GR04990);
NumRenterHshldsRent500to599		 = sum(GR05490, GR05990);
NumRenterHshldsRent600to699		 = sum(GR06490, GR06990);
NumRenterHshldsRent700to799		 = sum(GR07490, GR07990);
NumRenterHshldsRent800to999		 = sum(GR08990, GR09990);
NumRenterHshldsRentUnder300		 = sum(GR0990, GR01490, GR01990, GR02490, GR02990);
NumRenterOccupiedHsgUnits		 = RNTOCC0;
NumSpecOwnerOccupiedHsgUnits	 = SPOWNOC0;
NumSpecOwnerValue100000to149999	 = HUVA1490;
NumSpecOwnerValue150000to199999	 = HUVA1990;
NumSpecOwnerValue200000to299999	 = HUVA2990;
NumSpecOwnerValue30000to399999	 = HUVA3990;
NumSpecOwnerValue400000to499999	 = HUVA4990;
NumSpecOwnerValue50000to99999	 = HUVA0990;
NumSpecOwnerValueOver500000		 = HUVA5000;
NumSpecOwnerValueUnder50000		 = HUVA0500;
NumSpecRenterOccupiedHsgUnits	 = RENTRTO0;
NumVacantHsgUnits				 = VACHU0;
NumVacantHsgUnitsForRent		 = VACRT0;
NumVacantHsgUnitsForSale		 = VACFS0;
PctAsianPINonHispAlone			 = 100* MINNHA0N/ TRCTPOP0;
PctAsianPINonHispBridge			 = 100* SHRNHA0N/ TRCTPOP0;
PctBelow200PctPoverty			 = 100* sum(POVRAT0D, -PVRATG20)/ POVRAT0D;
PctBlackNonHispAlone			 = 100* MINNHB0N/ TRCTPOP0;
PctBlackNonHispBridge			 = 100* SHRNHB0N/ TRCTPOP0;
PctEmployedIndAgricultureMining	 = 100*  sum(IND0110, IND0210) / INDEMP0;
PctEmployedIndConstruction	     = 100*  IND0230/INDEMP0;
PctEmployedIndManufacturing	     = 100*  IND0310/INDEMP0;
PctEmployedIndWholesale		     = 100*  IND0420/INDEMP0;
PctEmployedIndRetail		     = 100*  IND0440/INDEMP0;
PctEmployedIndTransportation	 = 100*  sum(IND0480,IND0220) / INDEMP0;
PctEmployedIndFIRE		         = 100*  sum(IND0520, IND0530) / INDEMP0;
PctEmployedIndProfessional	     = 100*  sum(IND0540,IND0550, IND0560)/INDEMP0;
PctEmployedIndEducational	     = 100*  sum(IND0610,IND0620) / INDEMP0;
PctEmployedIndArts		    	 = 100*  sum(IND0710,IND0720) / INDEMP0;
PctEmployedIndOther		    	 = 100*  IND0810/INDEMP0;
PctEmployedIndInformation	     = 100*  IND0510/INDEMP0;
PctEmployedIndPublicAdmin	     = 100*  IND0920/INDEMP0;
PctEmployedOccConstruction		 = 100* sum(OCC0470, OCC0490)/ INDEMP0;
PctEmployedOccFarming			 = 100* OCC0450/ INDEMP0;
PctEmployedOccManagement		 = 100* sum(OCC0110, OCC0130, OCC0150, OCC0170, OCC0190, OCC0210, OCC0230, OCC0250, OCC0270, OCC0290)/ INDEMP0;
PctEmployedOccMngmtAndProfession = 100* sum(OCC10, OCC20)/ INDEMP0;
PctEmployedOccProduction		 = 100* sum(OCC0510, OCC0530)/ INDEMP0;
PctEmployedOccSales				 = 100* sum(OCC0410, OCC0430)/ INDEMP0;
PctEmployedOccService			 = 100* sum(OCC0310, OCC0330, OCC0350, OCC0370, OCC0390)/ INDEMP0;
PctFemale16andOverEmployed		 = 100* sum(ARMFRF0, CFEPR0N)/ FNOPRT0D;
PctForeignBorn					 = 100* FORBORN0/ TRCTPOP0;
PctForeignBornArrivedLast10Yrs	 = 100* FBORN100/ FORBORN0;
PctHHMovedIn20YearsOrMore		 = 100* sum(YMVT0790, YMVT0690)/ OCCHU0;
PctHHMovedInLast5Years			 = 100* sum(YMVT0980, YMVT0000)/ OCCHU0;
PctHisp							 = 100* SHRHSP0N/ TRCTPOP0;
PctHsgUnits0Bdrms				 = 100* BDTOT00/ TOTHSUN0;
PctHsgUnits10to19UnitStructures	 = 100* TUNIT190/ TOTHSUN0;
PctHsgUnits1Bdrm				 = 100* BDTOT10/ TOTHSUN0;
PctHsgUnits20plusUnitStructures	 = 100* sum(TTUNT490, TTUNT500)/ TOTHSUN0;
PctHsgUnits2Bdrms				 = 100* BDTOT20/ TOTHSUN0;
PctHsgUnits2to4UnitStructures	 = 100* sum(TTUNIT30, TTUNIT40)/ TOTHSUN0;
PctHsgUnits3Bdrms				 = 100* BDTOT30/ TOTHSUN0;
PctHsgUnits3plusBdrms			 = 100* sum(BDTOT30, BDTOT40, BDTOT50)/ TOTHSUN0;
PctHsgUnits4Bdrms				 = 100* BDTOT40/ TOTHSUN0;
PctHsgUnits5plusBdrms			 = 100* BDTOT50/ TOTHSUN0;
PctHsgUnits5To9UnitStructures	 = 100* TTUNIT90/ TOTHSUN0;
PctHsgUnitsBuilt11to20YearsAgo	 = 100* BLTYR890/ TOTHSUN0;
PctHsgUnitsBuilt21to30YearsAgo	 = 100* BLTYR790/ TOTHSUN0;
PctHsgUnitsBuilt6to10YearsAgo	 = 100* BLTYR940/ TOTHSUN0;
PctHsgUnitsBuiltLast5Years		 = 100* sum(BLTYR000, BLTYR980)/ TOTHSUN0;
PctHsgUnitsBuiltOver30YearsAgo	 = 100* sum(BLTYR690, BLTYR590, BLTYR490, BLTYR390)/ TOTHSUN0;
PctHsgUnitsBuilt31to40YearsAgo	 = 100* BLTYR690/ TOTHSUN0;
PctHsgUnitsBuilt41to50YearsAgo	 = 100* BLTYR590/ TOTHSUN0;
PctHsgUnitsBuiltOver50YearsAgo	 = 100* sum(BLTYR490, BLTYR390)/ TOTHSUN0;
PctHsgUnitsOtherStructure		 = 100* sum(TTUNITM0, TTUNITO0)/ TOTHSUN0;
PctHsgUnitsSingleFamilyAttached	 = 100* TTUNIT20/ TOTHSUN0;
PctHsgUnitsSingleFamilyDetached	 = 100* TTUNIT10/ TOTHSUN0;
PctHsgUnitsW2OrMoreHsgProblems	 = 100* HU2PFC0/ OCCHU0;
PctHshldMarriedCoupleWKids		 = 100* MCWKID0/ NUMHHS0;
PctHshldNonFamily				 = 100* NONFAM0/ NUMHHS0;
PctHshldOtherFamily				 = 100* sum(MCNKID0, MHNKID0, FHNKID0)/ NUMHHS0;
PctHshldSingleParentWKids		 = 100* sum(MHWKID0, FHWKID0)/ NUMHHS0;
PctHshldsOnPublicAssistance		 = 100* sum(AVPBLA0D, -AVSSI0D)/ NUMHHS0;
PctHshldsOver30PctIncSpentOnHsg	 = 100* sum(M39PI0, M49PI0, M50PI0, R39PI0, R49PI0, R50PI0)/ 
				sum(M20PI0, M29PI0,M39PI0, M49PI0, M50PI0, R20PI0, R29PI0, R39PI0, R49PI0, R50PI0);
PctHshldsOver50PctIncSpentOnHsg	 = 100* sum(M50PI0,R50PI0)/
			sum(M20PI0, M29PI0,M39PI0, M49PI0, M50PI0, R20PI0, R29PI0, R39PI0, R49PI0, R50PI0);
PctHshldsOvercrowded			 = 100* sum(OWNCR100, OWNCR150, OWNCR200, RNTCR100, RNTCR150, RNTCR200)/ OCCHU0;
PctHshldsSeverelyOvercrowded	 = 100* sum(OWNCR150,OWNCR200, RNTCR150,  RNTCR200)/ OCCHU0;
PctHshldsWFinancialInc			 = 100* AVFINY0D/ NUMHHS0;
PctHshldsWInc100000plus			 = 100* sum(THY01250, THY01500, THY02000, THY0M200)/ NUMHHS0;
PctHshldsWInc15000to34999		 = 100* sum(THY0200, THY0250, THY0300, THY0350)/ NUMHHS0;
PctHshldsWInc35000to49999		 = 100* sum(THY0400, THY0450, THY0500)/ NUMHHS0;
PctHshldsWInc50000to74999		 = 100* sum(THY0600, THY0750)/ NUMHHS0;
PctHshldsWInc75000to99999		 = 100* THY01000/ NUMHHS0;
PctHshldsWIncompleteKitchen		 = 100* sum(h051004, h051007)/ TOTHSUN0;
PctHshldsWIncompletePlumbing	 = 100* sum(OCCHU0, -PLMBT0)/ OCCHU0;
PctHshldsWIncUnder15000			 = 100* sum(THY0100, THY0150)/ NUMHHS0;
PctHshldsWoutCar				 = 100* NOCAR0/ OCCHU0;
PctMale16andOverEmployed		 = 100* sum(ARMFRM0, CMEPR0N)/ MNOPRT0D;
PctMultiracialNonHisp			 = 100* MRANHS0N/ TRCTPOP0;
PctNativeAmNonHispAlone			 = 100* MINNHI0N/ TRCTPOP0;
PctNativeAmNonHispBridge		 = 100* SHRNHI0N/ TRCTPOP0;
PctOtherNonHispAlone			 = 100* MINNHO0N/ TRCTPOP0;
PctOtherNonHispBridge			 = 100* SHRNHO0N/ TRCTPOP0;
PctOwnerHshldsOver30PctIncOnHsg	 = 100* sum(M39PI0, M49PI0, M50PI0)/ sum(M20PI0,M29PI0,M39PI0, M49PI0, M50PI0);
PctOwnerHshldsOver50PctIncOnHsg	 = 100* M50PI0/ sum(M20PI0,M29PI0,M39PI0, M49PI0, M50PI0);
PctPop16andOverEmployed			 = 100* sum(ARMFRM0, CMEPR0N, ARMFRF0, CFEPR0N)/ sum(MNOPRT0D, FNOPRT0D);
PctPop16to19UnemplOutOfSchool	 = 100* sum(WHSGU0, WHSDU0, BHSGU0, BHSDU0, IHSGU0, IHSDU0, AHSGU0, AHSDU0, OHSGU0, OHSDU0,MHSGU0, MHSDU0)/ HSDROP0D;
PctPop18to64PoorEnglishLang		 = 100* sum(SPNENO0N, ASNENO0N, OTNENO0N)/ PERS640;
PctPop25AndOverWCollege			 = 100* EDUC160/ EDUCPP0;
PctPop25AndOverWoutHS			 = 100* sum(EDUC80, EDUC110)/ EDUCPP0;
PctPop5to17PoorEnglishLang		 = 100* sum(SPNENY0N, ASNENY0N, OTNENY0N)/ PERS5170;
PctPop65andOverPoorEnglishLang	 = 100* sum(SPNENE0N, ASNENE0N, OTNENE0N)/ PERS65P0;
PctPop65andOverYears			 = 100* PERS65P0/ TRCTPOP0;
PctPopAsianPILangAtHome			 = 100* sum(YASNSP0, OASNSP0, EASNSP0)/ SMHSE0D;
PctPopEnglishLangAtHome			 = 100* sum(YENGSP0, OENGSP0, EENGSP0)/ SMHSE0D;
PctPopOtherLangAtHome			 = 100* sum(YOTHSP0, OOTHSP0, EOTHSP0)/ SMHSE0D;
PctPopSpanishLangAtHome			 = 100* sum(YSPANSP0, OSPANSP0, ESPANSP0)/ SMHSE0D;
PctPopUnder18Years				 = 100* CHILD0N/ TRCTPOP0;
PctPopUnder5Years				 = 100* KIDS0N/ TRCTPOP0;
PctRenterHshldsNoCashRent		 = 100* GRNTNCR0/(RENTRTO0+GRNTNCR0);
PctRenterHshldsOver30PctIncOnHsg = 100* sum(R39PI0, R49PI0, R50PI0)/ sum(R20PI0,R29PI0,R39PI0, R49PI0, R50PI0);
PctRenterHshldsOver50PctIncOnHsg = 100* R50PI0/ sum(R20PI0,R29PI0,R39PI0, R49PI0, R50PI0);
PctRenterHshldsRent1000plus		 = 100* sum(GR012490, GR014990, GR019990, GR020000)/ RENTRTO0;
PctRenterHshldsRent300to399		 = 100* sum(GR03490, GR03990)/ RENTRTO0;
PctRenterHshldsRent400to499		 = 100* sum(GR04490, GR04990)/ RENTRTO0;
PctRenterHshldsRent500to599		 = 100* sum(GR05490, GR05990)/ RENTRTO0;
PctRenterHshldsRent600to699		 = 100* sum(GR06490, GR06990)/ RENTRTO0;
PctRenterHshldsRent700to799		 = 100* sum(GR07490, GR07990)/ RENTRTO0;
PctRenterHshldsRent800to999		 = 100* sum(GR08990, GR09990)/ RENTRTO0;
PctRenterHshldsRentUnder300		 = 100* sum(GR0990, GR01490, GR01990, GR02490, GR02990)/ RENTRTO0;
PctSpecOwnerValue100000to149999	 = 100* HUVA1490/ SPOWNOC0;
PctSpecOwnerValue150000to199999	 = 100* HUVA1990/ SPOWNOC0;
PctSpecOwnerValue200000to299999	 = 100* HUVA2990/ SPOWNOC0;
PctSpecOwnerValue30000to399999	 = 100* HUVA3990/ SPOWNOC0;
PctSpecOwnerValue400000to499999	 = 100* HUVA4990/ SPOWNOC0;
PctSpecOwnerValue50000to99999	 = 100* HUVA0990/ SPOWNOC0;
PctSpecOwnerValueOver500000		 = 100* HUVA5000/ SPOWNOC0;
PctSpecOwnerValueUnder50000		 = 100* HUVA0500/ SPOWNOC0;
PctTravelToWorkByCar			 = 100* AUTO0/ WRCNTY0D;
PctTravelToWorkByPublicTransit	 = 100* TRVLPB0N/ WRCNTY0D;
PctTravelToWorkByWalking		 = 100* TRVLOT0N/ WRCNTY0D;
PctWhiteNonHispAlone			 = 100* MINNHW0N/ TRCTPOP0;
PctWhiteNonHispBridge			 = 100* SHRNHW0N/ TRCTPOP0;
PctWorkAtHome					 = 100* WKHOME0/ WRCNTY0D;
PeopleInHshlds					 = PRSOCU0;
PersonsPovertyDefined			 = POVRAT0D;
Pop16andOverEmployed			 = sum(ARMFRM0, CMEPR0N, ARMFRF0, CFEPR0N);
Pop16andOverYears				 = sum(MNOPRT0D, FNOPRT0D);
Pop16to19UnemplOutOfSchool		 = sum(WHSGU0, WHSDU0, BHSGU0, BHSDU0, IHSGU0, IHSDU0, AHSGU0, AHSDU0, OHSGU0, OHSDU0,MHSGU0, MHSDU0);
Pop16to19Years					 = HSDROP0D;
Pop18to64PoorEnglishLang		 = sum(SPNENO0N, ASNENO0N, OTNENO0N);
Pop18to64Years					 = PERS640;
Pop25andOverWCollege			 = EDUC160;
Pop25andOverWoutHS				 = sum(EDUC80, EDUC110);
Pop25andOverYears				 = EDUCPP0;
Pop5andOverYears				 = SMHSE0D;
Pop5to17PoorEnglishLang			 = sum(SPNENY0N, ASNENY0N, OTNENY0N);
Pop5to17Years					 = PERS5170;
Pop65andOverPoorEnglishLang		 = sum(SPNENE0N, ASNENE0N, OTNENE0N);
Pop65andOverYears				 = PERS65P0;
PopAsianPILangAtHome			 = sum(YASNSP0, OASNSP0, EASNSP0);
PopAsianPINonHispAlone			 = MINNHA0N;
PopAsianPINonHispBridge			 = SHRNHA0N;
PopBelow200PctPoverty			 = sum(POVRAT0D, -PVRATG20);
PopBlackNonHispAlone			 = MINNHB0N;
PopBlackNonHispBridge			 = SHRNHB0N;
PopCivilianEmployed				 = INDEMP0;
PopDensity						 = TRCTPOP0/ AREALANM;
PopEmployedIndAgricultureMining  = sum(IND0110, IND0210) ;
PopEmployedIndConstruction       = IND0230 ;
PopEmployedIndManufacturing      = IND0310 ;
PopEmployedIndWholesale          = IND0420 ;
PopEmployedIndRetail             = IND0440 ;
PopEmployedIndTransportation     = sum(IND0480,IND0220) ;
PopEmployedIndFIRE               = sum(IND0520, IND0530) ;
PopEmployedIndProfessional       = sum(IND0540,IND0550, IND0560) ;
PopEmployedIndEducational        = sum(IND0610,IND0620) ;
PopEmployedIndArts               = sum(IND0710,IND0720) ;
PopEmployedIndOther              = IND0810 ;
PopEmployedIndInformation        = IND0510 ;
PopEmployedIndPublicAdmin        = IND0920 ;
PopEmployedOccConstruction		 = sum(OCC0470, OCC0490);
PopEmployedOccFarming			 = OCC0450;
PopEmployedOccManagement		 = sum(OCC0110, OCC0130, OCC0150, OCC0170, OCC0190, OCC0210, OCC0230, OCC0250, OCC0270, OCC0290);
PopEmployedOccMngmtAndProfession = sum(OCC10, OCC20);
PopEmployedOccProduction		 = sum(OCC0510, OCC0530);
PopEmployedOccSales				 = sum(OCC0410, OCC0430);
PopEmployedOccService			 = sum(OCC0310, OCC0330, OCC0350, OCC0370, OCC0390);
PopEnglishLangAtHome			 = sum(YENGSP0, OENGSP0, EENGSP0) ;
PopFemale16andOverEmployed		 = sum(ARMFRF0, CFEPR0N);
PopFemale16andOverYears			 = FNOPRT0D;
PopForeignBorn					 = FORBORN0;
PopForeignBornArrivedLast10Yrs	 = FBORN100;
PopHisp							 = SHRHSP0N;
PopInCivLaborForce				 = UNEMPT0D;
PopMale16andOverEmployed		 = sum(ARMFRM0, CMEPR0N);
PopMale16andOverYears			 = MNOPRT0D;
PopMultiracialNonHisp			 = MRANHS0N;
PopNativeAmNonHispAlone			 = MINNHI0N;
PopNativeAmNonHispBridge		 = SHRNHI0N;
PopNotInArmedForces				 = LFRAT0D;
PopOfLargestImmigrantGroup		 = IMMGPOP;
PopOtherLangAtHome				 = sum(YOTHSP0, OOTHSP0, EOTHSP0);
PopOtherNonHispAlone			 = MINNHO0N;
PopOtherNonHispBridge			 = SHRNHO0N;
PopPoorChildren					 = CHDPOO0N;
PopPoorElderly					 = ELDPOO0N;
PopPoorPersons					 = POVRAT0N;
PopSpanishLangAtHome			 = sum(YSPANSP0, OSPANSP0, ESPANSP0);
PopTravelToWorkByCar			 = AUTO0;
PopTravelToWorkByPublicTransit	 = TRVLPB0N;
PopTravelToWorkByWalking		 = TRVLOT0N;
PopUnder18Years					 = CHILD0N;
PopUnder5Years					 = KIDS0N;
PopUnemployed					 = UNEMPT0N;
PopWhiteNonHispAlone			 = MINNHW0N;
PopWhiteNonHispBridge			 = SHRNHW0N;
PopWorkAtHome				= WKHOME0;
PopWorkers				 = WRCNTY0D;
PopWorkOutsideHome				 = TRVLPB0D;
PovertyRate				 = 100* POVRAT0N/ POVRAT0D;
RentalVacancyRate				 = 100* VACRT0/ sum(RNTOCC0, VACRT0);
SrcCountryOfLargestImmigrantGrp	 = IMMGSRC;
*STFID					 = GEO2000;
TotPop					 = TRCTPOP0;
TotTravelTimeToWork			 = AGGTRVL0;
TotValueSpecOwnerHshlds			 = AGGVAL0;
UnemploymentRate			 = 100* UNEMPT0N/ UNEMPT0D;
VacancyRate				 = 100* VACHU0/ TOTHSUN0;

DenHshldsforPctIncOnHsg			=sum(h073001, h097001);
DenRenterHshldsforPctIncOnHsg		=h073001;
DenOwnerHshldsforPctIncOnHsg		=h097001;
PopMinorityAlone			=sum(shr0d, -minnhw0n);
PopMinorityBridge			=sum(shr0d, -shrnhw0n);
NumHshldMaleSingleParentWKids		=mhwkid0;
NumHshldFemaleSingleParentWKids		=fhwkid0;
NumHshldFemaleHeaded			=sum(p010004,p010014,p010019);
NumHshldNonfamily1pers			=p010002;
NumHshldSingleFemale			=p010004;
NumHshldSingleMale			=p010003;
NumHshldNonfamily2pers			=p010017;
NumRenterOccHsgAge15_24			=h014013;
NumRenterOccHsgAge25_34			=h014014;
NumRenterOccHsgAge35_54			=sum(h014015, h014016);
NumRenterOccHsgAge55_64			=sum(h014017, h014018);
NumRenterOccHsgAge65_74			=h014019;
NumRenterOccHsgAge74p			=sum(H014020, H014021);
NumOwnerOccHsgAge15_24			=h014003;
NumOwnerOccHsgAge25_34			=h014004;
NumOwnerOccHsgAge35_54			=sum(h014005, h014006);
NumOwnerOccHsgAge55_64			=sum(h014007, h014008);
NumOwnerOccHsgAge65_74			=h014009;
NumOwnerOccHsgAge74p			=sum(h014010, h014011);
NumOccupiedHsgAge15_24			=sum(h014013, h014003)  ;
NumOccupiedHsgAge25_34			=sum(H014014, H014004);
NumOccupiedHsgAge35_54			=sum(H014015, H014016, H014005, H014006);
NumOccupiedHsgAge55_64			=sum(H014017, H014018, H014007, H014008);
NumOccupiedHsgAge65_74			=sum(H014019, H014009);
NumOccupiedHsgAge74p			=sum(H014020, H014021, H014010, H014011);
PoorHouseholds				=P092002;
PoorFamily				=P090002;
PoorMarriedCoupleWKid			=P090004;
PoorMarriedCoupleNKid			=P090008;
PoorFemaleHeadWKid			=P090017;
PoorMaleHeadWKid			=P090011;
PoorOtherFamily				=P090009;
PoorNonfamily				=P092020;
DenomPoorHouseholds			=P092001;
DenomPoorfamily				=P090001;
DenomPoorMarriedCoupleWKid		=sum(P090004, P090024);
DenomPoorMarriedCoupleNKid		=sum(P090008, P090028);
DenomPoorFemaleHeadWKid			=sum(P090017, P090037);
DenomPoorMaleHeadWKid			=sum(P090011, P090031);
DenomPoorOtherFamily			=sum(P090009, P090029);
DenomPoorNonfamily			=sum(P092020, P092049);
NumRenterOccMarriedCouple		=H019066;
NumRenterOccFemaleHead			=H019083;
NumRenterOccMaleHead			=H019075;
NumRenterOccNonFamily			=H019091;
NumRenterOccMarriedCoupleWKid		=HCT001031;
NumRenterOccFemaleHeadWKid		=HCT001044;
NumRenterOccMaleHeadWKid		=HCT001038;
NumRenterOccOtherFamily			=sum(HCT001042, HCT001048);
NumOwnerOccMarriedCouple		=H019004;
NumOwnerOccFemaleHead			=H019021;
NumOwnerOccMaleHead			=H019013;
NumOwnerOccNonFamily			=H019029;
NumOwnerOccMarriedCoupleWKid		=HCT001005;
NumOwnerOccFemaleHeadWKid		=HCT001018;
NumOwnerOccMaleHeadWKid			=HCT001012;
NumOwnerOccOtherFamily			=sum(HCT001016, HCT001022);
NumHsgUnitsMobileHome			=TTUNITM0;
NumHsgUnitsOthStructureExcMobile	=TTUNITO0;
NumOccupiedHsgUnitsOther		=TOTOCCO0;
NumOccupiedHsgUnitsMulti		=TOTOCCM0;
NumOccupiedHsgUnitsMin			=SUM(OCCHU0,-TOTOCCX0);
NumOwnerOccupiedHsgUnitsOther		=OWNOCCO0;
NumOwnerOccupiedHsgUnitsMulti		=OWNOCCM0;
NumOwnerOccupiedHsgUnitsMin		=SUM(OWNOCC0,-OWNOCCX0);
NumRenterOccupiedHsgUnitsWhite		=RNTOCCW0;
NumRenterOccupiedHsgUnitsBlack		=RNTOCCB0;
NumRenterOccupiedHsgUnitsAsianPI	=RNTOCCA0;
NumRenterOccupiedHsgUnitsNatAm	=RNTOCCI0;
NumRenterOccupiedHsgUnitsOther		=RNTOCCO0;
NumRenterOccupiedHsgUnitsHisp		=RNTOCCH0;
NumRenterOccupiedHsgUnitsMulti		=RNTOCCM0;
NumRenterOccupiedHsgUnitsNHWhite	=RNTOCCX0;
NumRenterOccupiedHsgUnitsMin		=SUM(RNTOCC0,-RNTOCCX0);
NumHighSchoolDropOut			=HSDROP0N;
MedianHshldIncomeOwner			=HCT012002;
AggHshldIncomeOwner			=HCT013002;
MedianHshldIncomeRenter			=HCT012003;
AggHshldIncomeRenter			=HCT013005;
PopHispMexican				=MEXIC0;
PopHispPuertoRican			=PRICAN0;
PopHispCuban				=CUBAN0;
PopHispDominican			=DOMIN0;
PopHispCostaRican			=COSRIC0;
PopHispGuatemalan			=GUATEM0;
PopHispHonduran				=HONDUR0;
PopHispNicaraguan			=NICARAG0;
PopHispPananamian			=PANAMA0;
PopHispElSalvadoran			=SALVAD0;
PopHispOtherCentAmer			=OTHCAM0;
PopHispArgentinean			=ARGNTN0;
PopHispBolivian				=BOLIVA0;
PopHispChilean				=CHILE0;
PopHispColombian			=COLOMB0;
PopHispEcuadorian			=ECUAD0;
PopHispPeruvian				=PERU0;
PopHispOtherSouthAmer			=OTHSAM0;
PopHispOtherHispOrig			=OTHHISP0;
PopAsianAsianIndian			=PCT005002;
PopAsianBangladeshi			=PCT005003;
PopAsianCambodian			=PCT005004;
PopAsianChinese				=PCT005005;
PopAsianFilipino			=PCT005006;
PopAsianHmong				=PCT005007;
PopAsianIndonesian			=PCT005008;
PopAsianJapanese			=PCT005009;
PopAsianKorean				=PCT005010;
PopAsianLaotian				=PCT005011;
PopAsianMalaysian			=PCT005012;
PopAsianPakistani			=PCT005013;
PopAsianSriLankan			=PCT005014;
PopAsianTaiwanese			=PCT005015;
PopAsianThai				=PCT005016;
PopAsianVietnamese			=PCT005017;
PopAsianOtherAsian			=sum(PCT005018,PCT005019);
PopAsianAlone				=PCT005001;
Pop5andOverWDisability			=sum(P042004, P042028, P042007, P042014, P042031, P042038, P042021, P042024, P042045, P042048);
Pop5to15WDisability			=sum(P042004, P042028);									      
Pop16to64WDisability			=sum(P042007, P042014, P042031, P042038);
Pop65andoverWDisability			=sum(P042021, P042024, P042045, P042048);
Pop5andOverWDisabilityInfo		=sum(P042003, P042027, P042006, P042013, P042030, P042037, P042020, P042044);
Pop5to15WDisabilityInfo			=sum(P042003, P042027);
Pop16to64WDisabilityInfo		=sum(P042006, P042013, P042030, P042037);
Pop65andoverWDisabilityInfo		=sum(P042020,P042023, P042044,P042047);

PopSelfcareDisability			=sum(P041006, P041011, P041018);
PopMentalDisability			=sum(P041005, P041010, P041017);
PopSensoryDisability			=sum(P041003, P041008, P041015);
Pop65pOutsideDisabilit			=P041019;
Pop16to64EmploymentDisability		=P041013;

NumHshldsWIncompleteKitchen		=sum(h051004, h051007);
Pop25andOverWHS				=SUM(EDUC120, EDUC150,EDUC160, EDUCA0);
PopPoorBlack				=BLKPR0N;
PovertyDefinedBlack			=BLKPR0D;
PopPoorNatAmer				=INDPR0N;
PovertyDefinedNatAmer			=INDPR0D;
PopPoorAsianPI				=ASNPR0N;
PovertyDefinedAsianPI			=ASNPR0D;
PopPoorOther				=OTHPR0N;
PovertyDefinedOther			=OTHPR0D;
PopPoorMulti				=MRAPR0N;
PovertyDefinedMulti			=MRAPR0D;
PopPoorHisp				=HISPR0N;
PovertyDefinedHisp			=HISPR0D;
PopPoorNHWhite				=NHWPR0N;
PovertyDefinedNHWhite			=NHWPR0D;

PopForeign_EuropeN	=	PCT019003	;
PopForeign_EuropeW	=	PCT019008	;
PopForeign_EuropeS	=	PCT019014	;
PopForeign_EuropeE	=	PCT019020	;
PopForeign_EuropeNec	=	PCT019031	;
PopForeign_AsiaE	=	PCT019033	;
PopForeign_AsiaSC	=	PCT019041	;
PopForeign_AsiaSE	=	PCT019048	;
PopForeign_AsiaW	=	PCT019057	;
PopForeign_AsiaNec	=	PCT019066	;
PopForeign_AfricaE	=	PCT019068	;
PopForeign_AfricaM	=	PCT019071	;
PopForeign_AfricaN	=	PCT019072	;
PopForeign_AfricaS	=	PCT019075	;
PopForeign_AfricaW	=	PCT019078	;
PopForeign_AfricaNec	=	PCT019083	;
PopForeign_OceaniaAustrNZ	=	PCT019085	;
PopForeign_OceaniaOth	=	sum(of PCT019088-PCT019091)	;
PopForeign_AmerCarib	=	PCT019094	;
PopForeign_AmerMexico	=	PCT019103	;
PopForeign_AmerC	=	PCT019104	;
PopForeign_AmerS	=	PCT019112	;
PopForeign_AmerN	=	PCT019123	;
PopForeign_BornatSea	=	PCT019126	;


%mend formulas;
endrsubmit;